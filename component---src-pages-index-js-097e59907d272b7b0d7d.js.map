{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["mapboxgl","accessToken","GtfsMap","props","_this","_Component","call","this","state","lng","lat","zoom","componentDidMount","_this2","_this$state","map","Map","container","mapContainer","style","center","on","geojson","addSource","type","data","addLayer","id","source","paint","circle-color","circle-radius","setInterval","getSource","setData","console","log","componentDidUpdate","render","_this3","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","ref","el","position","top","bottom","width","height","Component"],"mappings":"8JAKAA,IAASC,YAAc,gGAEjBC,cAEJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,MAAQ,CACXC,KAAM,SACNC,IAAK,QACLC,KAAM,IALSP,sCASnBQ,kBAAA,WAAoB,IAAAC,EAAAN,KAAAO,EAEQP,KAAKC,MAAxBC,EAFWK,EAEXL,IAAKC,EAFMI,EAENJ,IAAKC,EAFCG,EAEDH,KACjBJ,KAAKQ,IAAM,IAAIf,IAASgB,IAAI,CAC1BC,UAAWV,KAAKW,aAChBC,MAAO,oDACPC,OAAQ,CAACX,EAAKC,GACdC,SAEFJ,KAAKQ,IAAIM,GAAG,OAAQ,WAClB,IAAIC,EAAU,8DAEdT,EAAKE,IAAIQ,UAAU,eAAgB,CACjCC,KAAM,UACNC,KAAMH,IAERT,EAAKE,IAAIW,SAAS,CACdC,GAAM,eACNH,KAAQ,SACRI,OAAU,eACVC,MAAS,CACLC,eAAgB,UAChBC,gBAAiB,KAGzBC,YAAY,WACRnB,EAAKE,IAAIkB,UAAU,gBAAgBC,QAAQZ,GAC3Ca,QAAQC,IAAI,eACX,UAGTC,mBAAA,eAIAC,OAAA,WAAQ,IAAAC,EAAAhC,KAEN,OAEIiC,EAAAC,EAAAC,cAAA,OAAKC,IAAK,SAAAC,GAAE,OAAIL,EAAKrB,aAAe0B,GAAIzB,MAAO,CAAC0B,SAAU,WACxDC,IAAK,EACLC,OAAQ,EACRC,MAAO,OACPC,OAAQ,cAtDIC,aA2DPhD","file":"component---src-pages-index-js-097e59907d272b7b0d7d.js","sourcesContent":["import React, {Component} from \"react\"\n\nimport mapboxgl from 'mapbox-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoic2FhZGlxbSIsImEiOiJjamJpMXcxa3AyMG9zMzNyNmdxNDlneGRvIn0.wjlI8r1S_-xxtq2d-W5qPA';\n\nclass GtfsMap extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: -114.0708,\n      lat: 51.0486,\n      zoom: 11,\n    };\n  }\n\n  componentDidMount() {\n\n    const {lng, lat, zoom } = this.state;\n    this.map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: 'mapbox://styles/saadiqm/cjbjougmt08z72rsa7me1duoi',\n      center: [lng, lat],\n      zoom\n    });\n    this.map.on('load', () => {\n      let geojson = 'https://dax2h6sk92.execute-api.us-east-1.amazonaws.com/dev/'\n\n      this.map.addSource('Realtime Bus', {\n        type: 'geojson',\n        data: geojson\n      });\n      this.map.addLayer({\n          \"id\": \"Realtime Bus\",\n          \"type\": \"circle\",\n          \"source\": 'Realtime Bus',\n          \"paint\": {\n              \"circle-color\": \"#FF0000\",\n              \"circle-radius\": 7\n          }\n      });\n      setInterval(() => {\n          this.map.getSource('Realtime Bus').setData(geojson)\n          console.log(\"update map\")\n        }, 60000);\n    });\n  }\n  componentDidUpdate() {\n\n  }\n\n  render(){\n\n    return(\n\n        <div ref={el => this.mapContainer = el} style={{position: 'absolute',\n          top: 0,\n          bottom: 0,\n          width: '100%',\n          height: '100%'}} />\n    );\n  }\n}\n\nexport default GtfsMap\n"],"sourceRoot":""}